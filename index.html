<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thiệp Đặc Biệt</title>

<style>
.envelope-page.open .row {
    position: fixed;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000; 
    transition: bottom 0.8s ease;
}

:root {
    --blue-1: #A8DADC;
    --blue-2: #457B9D;
    --accent: #1D3557;
    --card: #F1FAEE;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
    margin:0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg, #fff 0%, var(--blue-1) 100%);
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    padding:24px;
}

.container{
    width:100%;
    max-width:980px;
    height:680px;
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center
}

section{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:18px;
    padding:30px;
    transition:opacity .45s, transform .45s;
    opacity:0;
    pointer-events:none
}
section.active{opacity:1;pointer-events:auto;transform:none}

.card{
    background:var(--card);
    padding:22px;
    border-radius:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.08);
    border:3px solid rgba(69, 123, 157, 0.1);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
    width:360px;
}

.image-box{
    width:150px;
    height:150px;
    border-radius:14px;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg,#e0fbfc,#fff);
    border:1px solid rgba(0,0,0,.03)
}
.image-box img{max-width:100%;height:100%;object-fit:cover;display:block}

.input-row{width:100%;display:flex;align-items:center;gap:10px}
input[type="password"]{flex:1;padding:12px 14px;border-radius:12px;border:2px solid var(--blue-1);background:transparent;outline:none;font-size:15px}
.btn{background:var(--blue-2);color:#FFFFFF;padding:10px 18px;border:none;border-radius:12px;cursor:pointer;font-weight:600}
.btn:active{transform:translateY(1px)}

.bday-wrap{position:relative;width:100%;max-width:760px;display:flex;flex-direction:column;align-items:center;gap:14px}
#birthday-text{font-weight:800;letter-spacing:3px;font-size:100px;color:#ff0000;display:flex;flex-wrap:wrap;justify-content:center}
#birthday-text .char{display: inline-block;opacity: 0;transform: translateY(40px);font-size: 40px;font-weight: bold;color: #da1010;text-shadow: 2px 2px 4px rgba(0,0,0,0.2);animation: charIn 0.6s ease-out forwards;}
@keyframes charIn{to{opacity:1;transform:none}}
#birthday-text.fly .char{animation:flyUp 1.8s forwards}
@keyframes flyUp{to{transform:translateY(-520px) rotate(360deg);opacity:0}}

.cake{width:300px;border-radius:12px}
.next-btn{margin-top:6px}

.confetti-container{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.confetti{position:absolute;width:10px;height:12px;border-radius:2px;opacity:0;transform:translateY(-30vh);animation:confettiFall 5s forwards}
@keyframes confettiFall{0%{opacity:1;transform:translateY(-60vh) rotate(0)}100%{opacity:0;transform:translateY(85vh) rotate(720deg)}}

.gift-box{position:fixed;top:-120px;width:56px;height:56px;background-size:contain;background-repeat:no-repeat;z-index:200;pointer-events:none;animation:fall linear forwards}
@keyframes fall{to{transform:translateY(120vh) rotate(360deg)}}

.envelope-wrapper{width:450px;height:250px;position:relative;perspective:1000px;}
.envelope-back{position:absolute;inset:0;border-radius:12px;background: var(--blue-2);}
.letter{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    top:8px;
    width:86%;
    height:86%;
    background:#fff;
    border-radius:6px;
    padding:14px;
    box-shadow:0 6px 18px rgba(0, 0, 0, 0.06);
    overflow:auto;
    z-index:1;
    visibility: hidden;
    opacity: 0;
    transition: transform .7s cubic-bezier(0.4, 0.0, 0.2, 1) .2s, opacity .5s .2s, visibility 0s .7s;
}
.envelope-front{position:absolute;left:0;right:0;bottom:0;height:0;border-left:180px solid transparent;border-right:180px solid transparent;border-bottom:110px solid var(--blue-1);z-index:3}
.envelope-flap{position:absolute;inset:0;height:120px;background:linear-gradient(180deg, var(--accent), #2a4e7e);clip-path:polygon(0 0,100% 0,50% 100%);transform-origin:top;transition:transform .6s cubic-bezier(0.4, 0.0, 0.2, 1);z-index:2}
.envelope-wrapper.open .envelope-flap{transform:rotateX(180deg);z-index:0;}
.envelope-wrapper.open .letter{ transform:translate(-50%, -40px) scale(2); z-index:4; visibility: visible; opacity: 1;}

.row{display:flex;gap:10px;align-items:center}
.small{font-size:13px;color: #6c757d;}

@media (max-width:520px){
 .card{width:92%}
 #birthday-text{font-size:28px}
 .cake{width:160px}
}

/* --- EFFECTS + ENVELOPE CUSTOM --- */
.heart {
    position: fixed;
    top: -10vh;
    font-size: 1.5rem; 
    transform: rotate(45deg);
    animation: heartFall linear forwards;
    z-index: 200;
}
.heart::before,
.heart::after {
    content: '';
    position: absolute;
    display: block;
    width: 100%;
    height: 100%;
    background-color: #ff6b81; 
    border-radius: 50%;
}
.heart::before {transform: translateY(-50%);}
.heart::after {transform: translateX(-50%);}
@keyframes heartFall {
    to { transform: translateY(110vh) rotate(720deg); }
}

.background-collage {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    overflow: hidden;
    display: none; 
}
body.effects-on .background-collage { display: block; }
.bg-polaroid {
    position: absolute;
    background-color: white;
    padding: 10px 10px 40px 10px;
    box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
    border: 1px solid #eee;
}
.bg-polaroid img { width: 100%; height: auto; display: block; }

/* ... giữ nguyên phần id bg-photo1 -> bg-photo12 như bản gốc ... */

/* Responsive cho điện thoại xoay ngang */
@media screen and (max-width: 920px) and (orientation: landscape) {
    body {
        padding: 8px;
        align-items: flex-start;
        justify-content: flex-start;
    }

    .container {
        width: 100vw;
        height: 100vh;
        max-width: 100%;
        max-height: 100%;
        padding: 10px;
    }

    .card {
        width: 80%;
        max-width: 500px;
    }

    #birthday-text {
        font-size: 36px;
        text-align: center;
    }

    .cake {
        width: 200px;
    }

    .envelope-wrapper {
        width: 90vw;
        height: 60vh;
    }

    .envelope-wrapper.open .letter {
        width: 90vw;
        height: 90vh;
        font-size: 1rem;
    }
}
</style>
</head>

<body>
    <!-- giữ nguyên phần HTML và JS như file gốc -->
</body>
</html>
