<!doctype html>

<html lang="vi">

<head>

<meta charset="utf-8" />

<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>Thiệp Đặc Biệt</title>

<style>

.envelope-page.open .row {
    position: fixed;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000; 
    transition: bottom 0.8s ease;
}

:root {


--blue-1: #A8DADC;

--blue-2: #457B9D;

--accent: #1D3557;

--card: #F1FAEE;

}

*{box-sizing:border-box}

html,body{height:100%}

body{

margin:0;

font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
 background: linear-gradient(180deg, #fff 0%, var(--blue-1) 100%);

display:flex;
 align-items:center;

justify-content:center;

overflow:hidden;
padding:24px;

}


.container{width:100%;max-width:980px;height:680px;position:relative;display:flex;align-items:center;justify-content:center}

section{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:18px;padding:30px;transition:opacity .45s, transform .45s;opacity:0;pointer-events:none}

section.active{opacity:1;pointer-events:auto;transform:none}

.card{background:var(--card);padding:22px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);border:3px solid rgba(69, 123, 157, 0.1);display:flex;flex-direction:column;align-items:center;gap:12px;width:360px;}



.image-box{width:150px;height:150px;border-radius:14px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#e0fbfc,#fff);border:1px solid rgba(0,0,0,.03)}

.image-box img{max-width:100%;height:100%;object-fit:cover;display:block}

.input-row{width:100%;display:flex;align-items:center;gap:10px}

input[type="password"]{flex:1;padding:12px 14px;border-radius:12px;border:2px solid var(--blue-1);background:transparent;outline:none;font-size:15px}

.btn{background:var(--blue-2);color:#FFFFFF;padding:10px 18px;border:none;border-radius:12px;cursor:pointer;font-weight:600}

.btn:active{transform:translateY(1px)}



.bday-wrap{position:relative;width:100%;max-width:760px;display:flex;flex-direction:column;align-items:center;gap:14px}

#birthday-text{font-weight:800;letter-spacing:3px;font-size:100px;color:#ff0000;display:flex;flex-wrap:wrap;justify-content:center}

#birthday-text .char{display: inline-block;
  opacity: 0;
  transform: translateY(40px);
  font-size: 40px;
  font-weight: bold;
  color: #da1010; 
  text-shadow: 2px 2px 4px rgba(0,0,0,0.2); 
  animation: charIn 0.6s ease-out forwards;}

@keyframes charIn{to{opacity:1;transform:none}}

#birthday-text.fly .char{animation:flyUp 1.8s forwards}

@keyframes flyUp{to{transform:translateY(-520px) rotate(360deg);opacity:0}}

.cake{width:300px;border-radius:12px}

.next-btn{margin-top:6px}



.confetti-container{position:absolute;inset:0;pointer-events:none;overflow:hidden}

.confetti{position:absolute;width:10px;height:12px;border-radius:2px;opacity:0;transform:translateY(-30vh);animation:confettiFall 5s forwards}

@keyframes confettiFall{0%{opacity:1;transform:translateY(-60vh) rotate(0)}100%{opacity:0;transform:translateY(85vh) rotate(720deg)}}


.gift-box{position:fixed;top:-120px;width:56px;height:56px;background-size:contain;background-repeat:no-repeat;z-index:200;pointer-events:none;animation:fall linear forwards}

@keyframes fall{to{transform:translateY(120vh) rotate(360deg)}}


.envelope-wrapper{width:450px;height:250px;position:relative;perspective:1000px;}

.envelope-back{position:absolute;inset:0;border-radius:12px;background: var(--blue-2);}

.letter{

position:absolute;

left:50%;

transform:translateX(-50%);

top:8px;

width:86%;

height:86%;

background:#fff;

border-radius:6px;

padding:14px;

box-shadow:0 6px 18px rgba(0, 0, 0, 0.06);

overflow:auto;

z-index:1;

visibility: hidden;

opacity: 0;

transition: transform .7s cubic-bezier(0.4, 0.0, 0.2, 1) .2s,

 opacity .5s .2s,

 visibility 0s .7s;

}

.envelope-front{position:absolute;left:0;right:0;bottom:0;height:0;border-left:180px solid transparent;border-right:180px solid transparent;border-bottom:110px solid var(--blue-1);z-index:3}

.envelope-flap{position:absolute;inset:0;height:120px;background:linear-gradient(180deg, var(--accent), #2a4e7e);clip-path:polygon(0 0,100% 0,50% 100%);transform-origin:top;transition:transform .6s cubic-bezier(0.4, 0.0, 0.2, 1);z-index:2}


.envelope-wrapper.open .envelope-flap{transform:rotateX(180deg);z-index:0;}

.envelope-wrapper.open .letter{

 transform:translate(-50%, -40px) scale(2);

z-index:4;

 visibility: visible;

 opacity: 1;

}



.row{display:flex;gap:10px;align-items:center}

.small{font-size:13px;color: #6c757d;}



@media (max-width:520px){

 .card{width:92%}

 #birthday-text{font-size:28px}

 .cake{width:160px}

}



.heart {

position: fixed;

top: -10vh;

font-size: 1.5rem; 

transform: rotate(45deg);

animation: heartFall linear forwards;

z-index: 200;

}



.heart::before,

.heart::after {

content: '';

position: absolute;

display: block;

width: 100%;

height: 100%;

background-color: #ff6b81; 

border-radius: 50%;

}



.heart::before {

transform: translateY(-50%);

}



.heart::after {

transform: translateX(-50%);

}



@keyframes heartFall {

to {

transform: translateY(110vh) rotate(720deg);

 }

}



.background-collage {

position: fixed;

top: 0;

left: 0;

width: 100vw;

height: 100vh;

z-index: -1;

overflow: hidden;

display: none; 

}



body.effects-on .background-collage {

display: block; 

}



.bg-polaroid {

position: absolute;

background-color: white;

padding: 10px 10px 40px 10px;

box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);

border: 1px solid #eee;

}



.bg-polaroid img {

width: 100%;

height: auto;

display: block;

}



#bg-photo1 { top: 5%; left: 5%; transform: rotate(-15deg); width: 18%; }

#bg-photo2 { top: 0.0000001%; right: 3%; transform: rotate(10deg); width: 20%; }

#bg-photo3 { top: 60%; left: 1%; transform: rotate(8deg); width: 15%; }

#bg-photo4 { top: 50%; right: 0.001%; transform: rotate(-5deg); width: 22%; }

#bg-photo5 { top: 35%; left: 30%; transform: rotate(5deg); width: 12%; }

#bg-photo6 { top: 10%; right: 25%; transform: rotate(-12deg); width: 15%; }

#bg-photo7 { top: 5%; right: 55%; transform: rotate(2deg); width: 20%; }

#bg-photo8 { bottom: 5%; left: 35%; transform: rotate(15deg); width: 16%; }

#bg-photo9 { top: 60%; left: 50%; transform: rotate(-2deg); width: 10%; }

#bg-photo10 { top: 62%; left:62%; transform: rotate(8deg); width: 14%; }

#bg-photo11 { top: 50%; left: 18%; transform: rotate(-19deg); width: 14%;}

#bg-photo12 { top: 0,1%; right: 40%; transform: rotate(-5deg); width: 12%;}


.envelope-wrapper {
    width: 450px;
    height: 280px;
    position: relative;
    perspective: 1200px;
}
.envelope-back {
    position: absolute;
    inset: 0;
    border-radius: 12px;
    background: #ffcfe0;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
}
.envelope-front {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 0;
    border-left: 225px solid transparent;
    border-right: 225px solid transparent;
    border-bottom: 140px solid #ffd7ed;
    z-index: 3;
}
.envelope-flap {
    position: absolute;
    inset: 0;
    height: 140px;
    background: linear-gradient(180deg, #ff0062, #e0e0e0);
    clip-path: polygon(0 0, 100% 0, 50% 100%);
    transform-origin: top;
    transition: transform 0.6s ease-in-out;
    z-index: 4;
}
.letter {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: 10px;
    width: 86%;
    height: 86%;
    background: #fff;
    border-radius: 6px;
    padding: 16px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    overflow: auto;
    z-index: 2;
    opacity: 0;
    transform: translate(-50%, 20px);
    transition: transform 0.7s ease, opacity 0.7s ease;
}
.envelope-wrapper.open .envelope-flap {
    transform: rotateX(180deg);
    z-index: 0;
}
.envelope-wrapper.open .letter {
    opacity: 1;
    transform: translate(-50%, -40px) scale(1.05);
}


.letter {
    background: #ffe4ec;
}
.cake {
    background: #fff0f5 !important;
    border: 6px solid #fff0f5 !important;
    box-shadow: 0 8px 28px rgba(255, 182, 193, 0.8) !important;
}


.letter {
    background: #ffe6f0; 
    color: #333;
    font-size: 1.8rem;
    line-height: 1.5;
    border: 2px solid #ffb6c1;
    transition: transform 0.8s ease, opacity 0.8s ease, width 0.8s ease, height 0.8s ease;
}
.envelope-wrapper.open .letter {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 80vw;
    height: 80vh;
    transform: translate(-50%, -50%) scale(1.05);
    z-index: 999;
    box-shadow: 0 12px 40px rgba(0,0,0,0.25);
}

</style>

</head>

<body>



<div class="background-collage">

    <div class="bg-polaroid" id="bg-photo1"><img src="images/1.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo2"><img src="images/2.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo3"><img src="images/3.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo4"><img src="images/4.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo5"><img src="images/4ffa8d08-a9b8-49b9-ab60-7b5e454422de.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo6"><img src="images/29b7d39c-fce5-4dbe-a52c-71859308ad37.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo7"><img src="images/50ca0fe2-3aaf-4c33-a503-756f44e630a5.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo8"><img src="images/520b72b6-23cb-4720-8bca-e936aef3fe9a.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo9"><img src="images/a92443f7-802b-4073-9d97-5da01e93cd94.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo10"><img src="images/ab0367e8-8448-4d61-8f8d-c4a5a99ac94e.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo11"><img src="images/e6870c24-11b3-4a21-8739-596c78f64ba4.png" alt=""></div>

    <div class="bg-polaroid" id="bg-photo12"><img src="images/f61ffec5-eeb0-4cb7-b2c2-daf6a81f2844.png" alt=""></div>

</div>

<div class="container">

    <section id="password-page" class="active">

        <div class="card" role="dialog" aria-label="Mật khẩu">

            <div class="image-box">

                <img src="images/IMG20221019080550.png" alt="Hình trang trí">

            </div>

            <div style="text-align:center">

                <div style="font-weight:700;margin-bottom:6px;color: var(--accent);">Lời Nhắn Đặc Biệt</div>

                <div class="small">Nhập mật khẩu để mở</div>

            </div>

            <div class="input-row" style="width:100%;margin-top:6px">

                <input id="password-input" type="password" placeholder="Mật khẩu">

                <button id="enter-btn" class="btn">ENTER</button>

            </div>

            <div class="small" style="margin-top:6px;color:var(--accent); font-weight: 600;">Mật khẩu là ngày sinh nhật của bro đó!</div>

        </div>

    </section>



    <section id="birthday-page" aria-hidden="true">

        <div class="bday-wrap">

            <div id="birthday-text" aria-hidden="true"></div>

            <img class="cake" src="" alt="Bánh sinh nhật" style="background:#eabcbc;border:6px solid #fff;border-radius:14px;box-shadow:0 8px 28px rgba(254, 238, 0, 0.934)">

            <button id="next-btn" class="btn next-btn">NEXT</button>

        </div>

        <div class="confetti-container" aria-hidden="true"></div>

    </section>



    <section id="envelope-page" aria-hidden="true">

        <div class="envelope-wrapper" id="envelope">

            <div class="envelope-back"></div>

            <div class="letter">

                <div style="font-weight:700;color:var(--accent);text-align:center;margin-bottom:8px">Gửi Ái Nhi :3.</div>

                <p>Vậy là cậu đã thêm một tuổi mới, không chỉ trưởng thành hơn mà còn rực rỡ hơn. Tớ thật lòng mong những điều tốt đẹp nhất sẽ đến với cậu – một năm mới đầy ắp tiếng cười, sức khỏe và thành công trên con đường cậu đã chọn.

Đôi khi tớ thầm cảm ơn cuộc đời vì đã mang cậu đến. Cảm ơn vì đã bước vào cuộc sống của tớ, trở thành người bạn thân nhất, người tớ có thể chia sẻ mọi điều. Với tớ, cậu không chỉ đơn thuần là một người bạn. Cậu là người khiến tớ muốn trở thành phiên bản tốt hơn mỗi ngày.

Tớ trân trọng từng khoảnh khắc chúng ta đã có và hy vọng rằng chặng đường dài phía trước, tớ sẽ tiếp tục được đồng hành cùng cậu. Tuổi mới hãy luôn vui vẻ và tỏa sáng nhé. Nụ cười của cậu chính là điều tuyệt vời nhất mà tớ may mắn được nhìn thấy mỗi ngày.</p>

                <p style="text-align:right;margin-top:14px;font-style:italic">-From hacker đỉnh nhất VN</p>

            </div>

            <div class="envelope-front"></div>

            <div class="envelope-flap"></div>

        </div>

        <div style="margin-top:12px" class="row">

            <button id="open-btn" class="btn">OPEN</button>

            <button id="close-btn" class="btn" style="background:#ccc;color:#222">CLOSE</button>

        </div>

    </section>

</div>



<script>

(function(){

    const passPage = document.getElementById('password-page');

    const bdayPage = document.getElementById('birthday-page');

    const envPage = document.getElementById('envelope-page');



    const enterBtn = document.getElementById('enter-btn');

    const passInput = document.getElementById('password-input');



    const nextBtn = document.getElementById('next-btn');

    const birthdayText = document.getElementById('birthday-text');

    const confettiContainer = document.querySelector('.confetti-container');



    const envelope = document.getElementById('envelope');

    const openBtn = document.getElementById('open-btn');

    const closeBtn = document.getElementById('close-btn');



    const correctPassword = "18082006";



    const cakeData = 'data:image/svg+xml;utf8,' + encodeURIComponent(

        '<svg xmlns="http://www.w3.org/2000/svg" width="420" height="300" viewBox="0 0 420 300">' +

        '<rect x="40" y="120" width="340" height="120" rx="18" fill="#ffdfe9"/>' +

        '<rect x="80" y="80" width="260" height="88" rx="16" fill="#fff"/>' +

        '<g fill="#ff6f9a">' +

        '<ellipse cx="140" cy="95" rx="12" ry="8"/><ellipse cx="210" cy="80" rx="12" ry="8"/><ellipse cx="280" cy="95" rx="12" ry="8"/>' +

        '</g>' +

        '<rect x="160" y="40" width="20" height="50" rx="6" fill="#ffccde"/>' +

        '<rect x="240" y="40" width="20" height="50" rx="6" fill="#ffccde"/>' +

        '</svg>'

    );

    document.querySelector('.cake').src = cakeData;



    function showSection(sec){

        [passPage,bdayPage,envPage].forEach(s => {

            if(s===sec){ s.classList.add('active'); s.removeAttribute('aria-hidden')}

            else { s.classList.remove('active'); s.setAttribute('aria-hidden','true') }

        });

    }



    function tryPassword(){

        if(passInput.value === correctPassword){

            passInput.value = '';

            showSection(bdayPage);

            startBirthday();

            document.body.classList.add('effects-on');

            startGifts();

            startHearts();

            

        } else {

            alert('Mật khẩu sai, thử lại nhé.');

            passInput.value = '';

            passInput.focus();

        }

    }



    enterBtn.addEventListener('click', tryPassword);

    passInput.addEventListener('keydown', function(e){

        if(e.key === 'Enter') tryPassword();

    });



    const text = "CHÚC MỪNG SINH NHẬT";

    function startBirthday(){

        birthdayText.innerHTML = '';

        Array.from(text).forEach((ch, i) => {

            const sp = document.createElement('span');

            sp.className = 'char';

            sp.textContent = ch === ' ' ? '\u00A0' : ch;

            sp.style.animationDelay = (i*0.06) + 's';

            birthdayText.appendChild(sp);

        });

        setTimeout(()=> birthdayText.classList.add('fly'), 3000);

        setTimeout(()=> createConfetti(), 3200);

        setTimeout(()=> birthdayText.classList.remove('fly'), 6000);

    }



    function createConfetti(){
    const colors = ['#ff6b9a','#ffd36b','#6be3ff','#a56bff','#ff96c5'];
    for(let i=0;i<100;i++){
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = (Math.random()*100) + 'vw';
        c.style.background = colors[Math.floor(Math.random()*colors.length)];
        c.style.width = (6 + Math.random()*10) + 'px';
        c.style.height = (8 + Math.random()*10) + 'px';
        c.style.top = (-30 - Math.random()*40) + 'vh';
        c.style.animationDelay = (Math.random()*2)+'s';
        confettiContainer.appendChild(c);
        setTimeout(()=>c.remove(), 5000);
    }
}


    let heartTimer = null;
    let confettiTimer = null; 
        function tryPassword(){
        if(passInput.value === correctPassword){
            passInput.value = '';
            showSection(bdayPage);
            startBirthday();

            document.body.classList.add('effects-on');
            startGifts();
            startHearts();

            if(confettiTimer) clearInterval(confettiTimer);
            confettiTimer = setInterval(createConfetti, 400); 
            createConfetti(); 
        } else {
            alert('Mật khẩu sai, thử lại nhé.');
            passInput.value = '';
            passInput.focus();
        }
    }

    function createHeart() {

        const heart = document.createElement('div');

        heart.className = 'heart';

        heart.style.left = Math.random() * 100 + 'vw';

        heart.style.animationDuration = (Math.random() * 3 + 4) + 's'; 

        document.body.appendChild(heart);

        

        setTimeout(() => {

            heart.remove();

        }, 7000); 

    }



    function startHearts() {

        if(heartTimer) clearInterval(heartTimer);

        heartTimer = setInterval(createHeart, 400); 

    }

    

    let giftTimer = null;

    function createGift(){

        const g = document.createElement('div');

        g.className = 'gift-box';

        const svg = encodeURIComponent(

            '<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">' +

            '<rect x="8" y="18" width="48" height="38" rx="6" fill="#ff8fb3"/>' +

            '<rect x="8" y="30" width="48" height="6" fill="#fff2f7" opacity=".6"/>' +

            '<path d="M32 6c6 0 10 6 10 10s-4 6-10 6-10 0-10-6 4-10 10-10z" fill="#ff5e92"/>' +

            '</svg>'

        );

        g.style.backgroundImage = 'url("data:image/svg+xml;utf8,'+svg+'")';

        g.style.left = (Math.random()*92) + 'vw';

        g.style.animationDuration = (5 + Math.random()*3) + 's';

        document.body.appendChild(g);

        setTimeout(()=> g.remove(), 9000);

    }

    function startGifts(){

        if(giftTimer) clearInterval(giftTimer);

        giftTimer = setInterval(createGift, 500);

    }



    nextBtn.addEventListener('click', function(){

        showSection(envPage);

    });



    openBtn.addEventListener('click', () => {
        envelope.classList.add('open');
        envPage.classList.add('open');
        startHeartsForEnvelope();
        const letterContent = envelope.querySelector('.letter p');
        const originalText = letterContent.innerText;
        typeWriterEffect(letterContent, originalText);
    });

    closeBtn.addEventListener('click', () => {
        envelope.classList.remove('open');
        envPage.classList.remove('open');
    });


    passInput.focus();



})();


function typeWriterEffect(element, text, speed = 40) {
    element.innerHTML = "";
    let i = 0;
    function typing() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, speed);
        }
    }
    typing();
}


function startHeartsForEnvelope() {
    let heartTimerEnv = setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
        heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 7000);
    }, 300);
    setTimeout(() => clearInterval(heartTimerEnv), 8000); 
}
document.querySelectorAll('.bg-polaroid').forEach(function(img) {
    img.style.cursor = 'move';
    img.onmousedown = function(e) {
        let shiftX = e.clientX - img.getBoundingClientRect().left;
        let shiftY = e.clientY - img.getBoundingClientRect().top;
        img.style.position = 'absolute';
        img.style.zIndex = 9999;

        function moveAt(pageX, pageY) {
            img.style.left = pageX - shiftX + 'px';
            img.style.top = pageY - shiftY + 'px';
        }

        moveAt(e.pageX, e.pageY);

        function onMouseMove(event) {
            moveAt(event.pageX, event.pageY);
        }

        document.addEventListener('mousemove', onMouseMove);

        img.onmouseup = function() {
            document.removeEventListener('mousemove', onMouseMove);
            img.onmouseup = null;
        };
    };

    img.ondragstart = function() {
        return false;
    };
});

</script>



</body>

</html>
